<launch>

  <!-- Start two managers to decouple the I/O from the actual computation -->
  <node pkg="nodelet" type="nodelet" name="manager_read" args="manager" output="screen" />
  <node pkg="nodelet" type="nodelet" name="manager_compute" args="manager" output="screen" />

  <!-- INPUT: Read in PCD files (the input files must contain normals and must be downsampled - see estimate_normals_and_vfh.launch!) -->

  <node pkg="nodelet" type="nodelet" name="Reader" args="load pcl/PCDReader manager_read" output="screen">
    <rosparam>
      publish_rate: 0
      filename: ""
   </rosparam>
  </node>
  
  <!-- Estimate VFH signatures, and write them to disk -->
  <node pkg="nodelet" type="nodelet" name="VFH" args="load pcl/VFHEstimation manager_compute" output="screen">
   <remap from="~input"   to="Reader/output" />
   <remap from="~normals" to="Reader/output" />
    <rosparam>
      k_search: 1
      spatial_locator: 0
   </rosparam>
  </node>
  <node pkg="nodelet" type="nodelet" name="WriterVFH" args="load pcl/PCDWriter manager_compute" output="screen">
   <remap from="~input" to="VFH/output" />
   <rosparam>
     binary_mode: false
   </rosparam>
  </node>

</launch>

