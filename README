.TH CLUTTER-SEGMENTATION "JUNE 2011" 
.SH NAME

clutter-segmentation - a ROS package for recognizing objects in cluttered scenes

.SH Installation

The clutseg package is built on top of ROS packages tod_training and
tod_detecting in the object_recognition stack. It has been developed and
tested on ROS Diamondback running on a Ubuntu 10.10 Maverick Meerkat. You can
follow this recipe to get it running. It admittably requires a couple of
really nasty workarounds.

    1. Create an installation directory and open it in a terminal 

This directory is called CLUTSEG_PATH and will later contain the clutseg
repository and the required ROS overlays.

    2. git clone indefero@code.in.tum.de:clutter-segmentation.git

Your CLUTSEG_PATH directory should now contain the repository
clutter-segmentation.

    3. sudo easy_install rosinstall

If you don't have python-setuptools installed, you can also get the tool
directly from http://pypi.python.org/pypi/rosinstall

    4. rosinstall . clutter-segmentation/clutter-segmentation.rosinstall

This will setup dependencies and ROS overlays. Hit 's' for skip when being asked
for what action to take on repository clutter-segmentation. Including it in the
clutter-segmentation.rosinstall file will make sure that clutseg is included in
the ROS environment configured via setup.bash.

    5. source setup.bash

Depending on your needs, you might add this to your ~/.bashrc file.

    6. rosdep install clutseg

    7. export CLUTSEG_PATH=$(pwd)

This environment variable is used by ROS package clutseg in various occasions
It is recommended to add this to your ~./.bashrc file. Note that environment
variables defined in ~/.bashrc are usually not read in non-interactive session,
such as cron. Most of the scripts in clutseg that require CLUTSEG_PATH will
therefore read ~/.env (non-standard) before executing.

    8. export PATH=$CLUTSEG_PATH/clutter-segmentation/scripts/script-bin:$PATH

Depending on your needs, you might add this to ~/.bashrc as well.

    9. svn checkout -r 37180 https://code.ros.org/svn/ros-pkg/stacks/vision_opencv/trunk@37180 vision_opencv

This retrieves vision_opencv overlay.

   10. rm vision_opencv/opencv2/ROS_NOBUILD

   11. rm vision_opencv/cv_bridge/ROS_NOBUILD

   12. mods-link

Apply patches on tod_training, tod_detecting, rbrief, fiducial and some other
places where serious bugs were blocking progress or blackbox behaviour was
blocking the gain of valuable information.

   13. rosmake --rosdep-install clutseg

   14. Install RSQlite

You can get it from http://cran.r-project.org/web/packages/RSQLite, as this R
package is not prepackaged for Ubuntu Meerkat. Follow the installation
instructions on the website.

.SH Running tests

Since clutter-segmentation has been developed against unstable and not exactly
bug-free packages, there are quite a bunch of tests available that test for
functionality and regression in package clutseg and its not-exactly reliable
dependencies. Some of these tests require Gigabytes of test data that have not
been included in the repository. Some smaller test data has been included, and
other tests do not require any test data to run. You can compile the tests 
(standard for ROS packages) via

    make tests

and run them by calling

    make test

You can also run single tests via

   bin/utest --gtest_filter=ParamSelTest.*

or another example

   bin/utest --gtest_filter=ConnCompTest.FillSmallConnectedComponents

for running only a specific test.

